

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;

public class OnuDownUpTrapSend implements Runnable{
	
	static byte[] onuDown = new byte[]{
		0x04,0x05,0x62,0x64,0x63,0x6f,0x6d,(byte)0xa4,(byte)0x82,0x00,(byte)0x91,0x06,0x0c,0x2b,0x06,0x01,
		0x04,0x01,(byte)0x82,(byte)0xa7,0x47,0x01,(byte)0x81,0x56,0x00,0x40,0x04,(byte)0xac,0x10,0x15,0x79,0x02,
		0x01,0x03,0x02,0x01,(byte)0xff,0x43,0x04,0x01,0x02,0x7b,(byte)0xd4,0x30,(byte)0x82,0x00,0x6d,0x30,
		(byte)0x82,0x00,0x0f,0x06,0x0a,0x2b,0x06,0x01,0x02,0x01,0x02,0x02,0x01,0x01,0x08,0x02,
		0x01,0x08,0x30,(byte)0x82,0x00,0x1d,0x06,0x0a,0x2b,0x06,0x01,0x02,0x01,0x02,0x02,0x01,
		0x02,0x08,0x04,0x0f,0x47,0x69,0x67,0x61,0x45,0x74,0x68,0x65,0x72,0x6e,0x65,0x74,
		0x30,0x2f,0x38,0x30,(byte)0x82,0x00,0x0f,0x06,0x0a,0x2b,0x06,0x01,0x02,0x01,0x02,0x02,
		0x01,0x03,0x08,0x02,0x01,0x06,0x30,(byte)0x82,0x00,0x0f,0x06,0x0a,0x2b,0x06,0x01,0x02,
		0x01,0x02,0x02,0x01,0x07,0x08,0x02,0x01,0x01,0x30,(byte)0x82,0x00,0x0f,0x06,0x0a,0x2b,
		0x06,0x01,0x02,0x01,0x02,0x02,0x01,0x08,0x08,0x02,0x01,0x01,0x00
	};
	
	private static boolean goOnflag = true;
	public static void main(String[] args) {
		
		new Thread(new OnuDownUpTrapSend()).start();
	}
	@Override
	public void run() {
		DatagramSocket ds = null; 
		InetAddress destination = null ;
		try {
			ds = new DatagramSocket(8999);
			destination = InetAddress.getByName("172.16.21.128");
		} catch (Exception e1) {
			e1.printStackTrace();
		}
		while( goOnflag ){
			DatagramPacket dp = new DatagramPacket(onuDown, onuDown.length, destination , 162);    
			try {  
				ds.send(dp);  //·¢ËÍÊý¾Ý  
				Thread.sleep(1000);
			} catch (Exception e) {  
				e.printStackTrace();
			}  
		}
		ds.close();
	}
	
}
